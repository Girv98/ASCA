<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>ASCA</title>
	<meta name="description" content="A linguistic sound change applier for conlangers">
	<meta name="author" content="James Girven">
   	<link rel="icon" href="data:;base64,=">
	<link rel="stylesheet" href="src/css/index.css">
	<link rel="stylesheet" href="src/css/editor.css">
	<script defer type="module" src="src/main.ts"></script> 
  	<link href="node_modules/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
  	<link href="node_modules/@fortawesome/fontawesome-free/css/solid.min.css" rel="stylesheet">
	<script>window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };</script>
	<script defer src="/growth/script.js"></script>
</head>

<body>
	<header>
		<div>
			<h1 class="noto-sans">ASCA <button id="version-modal-open">0.18.3</button></h1>
		</div>
	</header>

	<dialog id="version-modal">
		<div class="modal-wrapper">
			<header>
				<h2>What's new</h2>
				<button id="version-modal-close" class="delete"><i class="fas fa-times" aria-hidden="true"></i></button>
			</header>
			<div class="modal-content">
				<h3>0.18</h3>
				<ul>
					<li><b>Lib:</b> <code>Structures</code> and <code>References</code> now allowed inside sets</li>
					<li><b>Lib:</b> Various bug fixes. See <a href="https://github.com/Girv98/asca-rust/releases/tag/0.9.1" target="_blank" rel="noopener noreferrer">release notes</a></li>
					<li><b>Lib:</b> Trying to swap syllables between words, i.e. <code>% ## % > &</code>, now works</li>
					<li><b>Lib:</b> Leading spaces before a phrase no longer affect output</li>
					<li><b>Ui:</b>  Saves can now be shared</li>
					<li><b>Ui:</b>  Comments can now be retained in the output</li>
					<li><b>Ui:</b>  Finally moved input box to CodeMirror, allowing keybindings and syntax highlighting for comments</li>
					<li><b>Ui:</b>  Tab Indentation allowed in input and rule boxes, press <code>Escape</code> beforehand to allow tab navigation</li>
				</ul>
				<h3>0.17</h3>
				<ul>
					<li><b>Lib:</b> Cross Boundary Interactions with <code>##</code> allowing for External Sandhi, Rebracketing, and Affixation <a href="https://github.com/Girv98/asca-rust/blob/master/doc/doc.md#cross-word-boundary-operations" target="_blank" rel="noopener noreferrer">(see docs)</a>.</li>
					<li><b>Lib:</b> New substitution implementation allowing for ellipses and implicit syllable boundary deletion/insertion.</li>
					<li><b>Lib:</b> Retroflex diacritic <code>ʵ</code> works as expected.</li>
					<li><b>Lib:</b> <code>Variables</code> are now called <code>References</code>.</li>
					<li><b>Lib:</b> Long segments are correctly deleted and metathesised.</li>
					<li><b>Ui:</b>  Fixed potential HTML escaping issues when displaying errors.</li>
					<li><b>Ui:</b>  Ability to toggle output romanisation.</li>
					<li><b>Ui:</b>  Updated <code>pie-to-proto-germanic</code> example save.</li>

				</ul>
				<h3>0.16</h3>
				<ul>
					<li><b>Lib:</b> <code>[-long]</code> matrices match correctly after an ellipsis.</li>
					<li><b>Lib:</b> A comment after a deletion rule with no environment no longer errors.</li>
					<li><b>Lib:</b> Special environment checking works properly with a following comment.</li>
					<li><b>Lib:</b> Reworked segment rendering to reduce weird edgecases.</li>
					<li><b>Ui:</b>  Comments delimited by <code>#</code> now allowed in input.</li>
					<li><b>Ui:</b>  Added <code>pie-to-proto-germanic</code> example save.</li>
				</ul>
				<h3>0.15</h3>
				<ul>
					<li><b>Lib:</b> Diacritic aliases are now preceded by <code>"</code> instead of <code>^</code> to remove ambiguity between <code>ʔ͡h</code> and <code>ʔʰ</code> which are now <code>?^h</code> and <code>?"h</code> respectively.</li>
					<li><b>Lib:</b> Added more inbuilt diacritic aliases using the new <code>"</code> prefix.</li>
					<li><b>Lib:</b> Removed dedicated americanist aliases in favour of custom aliasing. See <a href="https://github.com/Girv98/asca-rust/releases/tag/0.8.0" target="_blank" rel="noopener noreferrer">release notes</a> for a replacement.</li>
					<li><b>Lib:</b> Prenasalised palatal and retroflex consonants now use consistent diacritics (<code>ᶮC</code> and <code>ᶯC</code> respectively).</li>
					<li><b>Lib:</b> Fixed infinite loop caused by erroneous use of <code>^</code> in certain situations.</li>
					<li><b>Lib:</b> Fixed <code>qǀ</code>, <code>qǃ</code>, <code>qǁ</code>, <code>q‼</code>, and <code>qǂ</code> being falsely encoded as <code>+voice</code>.</li>
					<li><b>Lib:</b> Ellipses can now be wrapped in brackets i.e. <code>(..)</code> to skip 'zero or more' segments instead of 'one or more' segments.</li>
					<li><b>Lib:</b> Options and Sets are now allowed in non-output Structures.</li>
					<li><b>Ui:</b>  Added formatting options for output.</li>
				</ul>
				<h3>0.14</h3>
				<ul>
					<li><b>Ui:</b> Brand-new saving system allowing for multiple files to be loaded at once.</li>
				</ul>
				<h3>0.13</h3>
				<ul>
					<li><b>Ui:</b> Move(ing) to CodeMirror inputs and added syntax highlighting.<br>
						<b>Colours are work in progress and probably will change!</b></li>
					<li><b>Ui:</b> Add section collapse buttons for mobile and small screens to reduce scrolling.</li>
					<li><b>Ui:</b> Added hotkeys for easier keyboard navigation.</li>
				</ul>
				<h3>0.12</h3>
				<ul>
					<li><b>Lib:</b> Inbuilt aliases for common diacritics.</li>
					<li><b>Lib:</b> A <code>$</code> or <code>*</code> alone in the output of a deromanisation rule is now allowed.</li>
					<li><b>Lib:</b> Added easy right-to-left propagation with the tilde <code>~ | ~></code> operator <a href="https://github.com/Girv98/asca-rust/blob/master/doc/doc.md#true-right-to-left-propagation" target="_blank" rel="noopener noreferrer">(see docs)</a>.</li>
					<li><b>Lib:</b> Aliases now work correctly when tracing.</li>
					<li><b>Lib:</b> Segment length character <code>ː</code> is correctly omitted when removing a long segment.</li>
					<li><b>Ui:</b> The values of any segments that couldn't be represented are now displayed at the bottom of the output.</li>
					<li><b>Ui:</b> These unknown segments are colour-coded in the output for easier debugging.</li>
					<li><b>Ui:</b> Traced rules are now highlighted.</li>
				</ul>
				<h3>0.11</h3>
				<ul>
					<li><b>Lib:</b> A given word or phrase can now be traced throughout its evolution.</li>
					<li><b>Lib:</b> Multiple words can now be placed on the same line separated by a space.</li>
					<li><b>Lib:</b> Fixed infinite loop when inserting after a boundary in certain cases.</li>
					<li><b>Ui:</b> Ability to specify adding a rule to either the beginning or the end of the list.</li>
					<li><b>Ui:</b> Ability to duplicate a given rule.</li>
					<li><b>Ui:</b> Sticky UI elements to reduce scrolling.</li>
				</ul>
				<h3>0.10</h3>
				<ul>
					<li><b>Lib:</b> Rules can now have single-line comments delimited by <code>;;</code></li>
					<li><b>Lib:</b> Multiple contiguous underlines are now allowed in environments.</li>
					<li><b>Lib:</b> Environments can now be grouped so they can be checked all at once, similarly to a set <a href="https://github.com/Girv98/asca-rust/blob/master/doc/doc.md#environment-sets" target="_blank" rel="noopener noreferrer">(see docs)</a>.</li>
					<li><b>Lib:</b> Structural Matching <a href="https://github.com/Girv98/asca-rust/blob/master/doc/doc.md#syllable-structure-matching" target="_blank" rel="noopener noreferrer">(see docs)</a>.</li>
					<li><b>Lib:</b> Various performance improvements and bug fixes, see releases <a target="_blank" href="https://github.com/Girv98/asca-rust/releases/tag/0.5.0">0.5.0</a> and <a target="_blank" href="https://github.com/Girv98/asca-rust/releases/tag/0.5.1">0.5.1</a>.</li>
					<li><b>Ui:</b> Ability to temporarily enable/disable rules with quick global toggle button.</li>
					<li><b>Ui:</b> Updated global rule collapse button change to also expand all.</li>
				</ul>
				<h3>0.9</h3>
				<ul>
					<li><b>Lib:</b> Various alias fixes, see releases <a target="_blank" href="https://github.com/Girv98/asca-rust/releases/tag/0.4.3">0.4.3</a> and <a target="_blank" href="https://github.com/Girv98/asca-rust/releases/tag/0.4.4">0.4.4</a></li>
					<li><b>Lib:</b> Added the plus operator to alias rules <a target="_blank" href="https://github.com/Girv98/asca-rust/releases/tag/0.4.2">(release 0.4.2)</a> <a href="https://github.com/Girv98/asca-rust/blob/master/doc/doc.md#plus-operator" target="_blank" rel="noopener noreferrer">(see doc)</a></li>
					<li><b>Lib:</b> Allow for the use of unicode escapes in alias rules  <a target="_blank" href="https://github.com/Girv98/asca-rust/releases/tag/0.4.1">(release 0.4.1)</a></li>
					<li><b>Lib:</b> Ability to deromanise input and romanise output  <a target="_blank" href="https://github.com/Girv98/asca-rust/releases/tag/0.4.0">(release 0.4.0)</a></li>
				</ul>
				<h3>0.8</h3>
				<ul>
					<li><b>Lib:</b> Added "voiced stridentised" diacritic. <a target="_blank" href="https://github.com/Girv98/asca-rust/releases/tag/0.3.1">(release 0.3.1)</a></li>
					<li><b>Lib:</b> Fixed bug whereby IPA literals with a feature alpha modifier were not correctly matching. <a target="_blank" href="https://github.com/Girv98/asca-rust/releases/tag/0.2.1">(release 0.2.1)</a></li>
					<li><b>Lib:</b> Fixed options falsely matching in certain situations <a target="_blank" href="https://github.com/Girv98/asca-rust/issues/3">(issue #3)</a></li>
					<li><b>Lib:</b> Fixed some bugs regarding matching ipa</li>
					<li><b>Lib:</b> Added normalisation for some precomposed Unicode characters</li>
					<li><b>Lib:</b> Rule errors now show rule and line numbers</li>
					<li><b>Ui:</b> This modal!</li>
					<li><b>Ui:</b> Working drag and drop on mobile</li>
				</ul>
				
				<h3>0.7</h3>
				<ul>
					<li><b>Lib:</b> Some common Americanist characters such as <code>ƛ</code> can now be used (see doc)</li>
					<li><b>Lib:</b> Rules with just whitespace no longer error</li>
					<li><b>Ui:</b> Fixed some behavioural differences between chromium and firefox</li>
				</ul>

				<h3>&lt; 0.7</h3>
				<ul>
					<li><b>Lib:</b> Palatal lateral fricatives and affricates now use ExtIPA characters, matching their retroflex and velar counterparts</li>
					<li><b>Lib:</b> Updated distinction between glides and their approximant counterparts</li>
					<li><b>Lib:</b> Fixed neighbouring matches sometimes being skipped in substitution rule</li>
					<li><b>Lib:</b> Added Strident diacritic to help catch possible errors when converting <code>+strid</code> consonants</li>
					<li><b>Ui:</b> Now require confirmation before deleting rules</li>
					<li><b>Ui:</b> Added collapse and clear buttons</li>
				</ul>
			</div>
		</div>
	</dialog>

	<dialog id="alias-modal">
		<div class="modal-wrapper">
			<header>
				<h2>Custom Aliasing</h2>
				<button id="alias-modal-close" class="delete"><i class="fas fa-times" aria-hidden="true"></i></button>
			</header>
			<div class="modal-content">
				<h3>Into IPA</h3>
				<textarea id="alias-into" spellcheck="false" autocapitalize="off" placeholder="Convert input into IPA (deromanisation)"></textarea>
				<div>
					<div class="alias-title-wrapper">
						<h3>From IPA</h3>
						<button id="alias-from-toggle" title="Toggle Romanisation" aria-label="Toggle Romanisation"><i class="fas fa-toggle-on" aria-hidden="true"></i></button>
					</div>
					<textarea id="alias-from" spellcheck="false" autocapitalize="off" placeholder="Convert output from IPA (romanisation)"></textarea>
				</div>
			</div>
		</div>
	</dialog>

	<dialog id="history-modal">
		<div class="modal-wrapper">
			<header>
				<h2>Saves</h2>
				<button id="history-modal-close" class="delete"><i class="fas fa-times" aria-hidden="true"></i></button>
			</header>
			<div style="display: flex; flex-direction: column;">
				<div class="history-buttons">
					<button id="history-new" class="custom-button" title="Create new save">New</button>
					<label id="history-load-label" for="history-load" class="custom-button" title="Import file" tabindex=0>Import</label>
					<input id="history-load" type="file" accept="application/json">
					<button id="history-example" class="custom-button" title="Load example ruleset">Load Example</button>
					<!-- <button id="history-clear" class="custom-button" title="Delete All">Delete All</button> -->
				</div>
				<div class="modal-content" tabindex="-1"> 
					<!-- Histories go here  -->
				</div>
				<div>
					<hr>
					<span><b>Please Note:</b> Saves are stored locally. Do not clear browser data while your work is in limbo.</span>
				</div>
			</div>
		</div>
	</dialog>

	<section>
		<div class="thirds inlex noto-sans">
			<div class="title-wrapper">
				<h1>Input</h1>
				<button id="input-minimax">
					<i class="fa-solid fa-minus"></i>
				</button>
			</div>
			<div class="options">
				<label for="trace">Trace: </label>
				<select name="trace" id="trace">
					<option value="-1">-</option>
				</select>
			</div>
			<div id="lex-wrap" class="wrapper">
				<!-- <textarea id="lexicon" spellcheck="false" autocapitalize="off" placeholder="Input lexicon in IPA format e.g.&#10;hɛˈləʊ&#10;ˈlɔː.ɹm̩&#10;ˈɪp.sm̩"></textarea> -->
			</div>
		</div>
		<div class="thirds sounds">
			<div class="title-wrapper">
				<h1>Rules</h1>
				<button id="rule-minimax">
					<i class="fa-solid fa-minus"></i>
				</button>
			</div>
			<div id="buttons">
				<button id="run" title="Run Asca" class="custom-button">Run</button>
				<div class="custom-button button-group">
					<button id="add" class="join-left" title="Add rule to end">Add Rule</button>
					<button id="updown" class="join-right" title="Change add direction to beginning"><i class="fa fa-chevron-down" aria-hidden="true"></i></button>
				</div>
				<button id="alias-modal-open" title="Open aliases modal" class="custom-button">Aliasing</button>

				<div class="custom-button button-group">
					<a id="help" class="join-left" title="View Documentation" href="https://github.com/Girv98/asca-rust/blob/master/doc/doc.md" target="_blank">Guides</a>
					<a id="phon" class="join-right" title="View feature values" href="https://docs.google.com/spreadsheets/d/1TTfNy1aKE7KxX0LBhIE6Zacx3GU-BVTM1l7wDKah4zM/edit?usp=sharing" target="_blank">Values</a>
				</div>
				<button id="history-modal-open" class="custom-button">Saves</button>
				<div class="custom-button button-group">
					<button id="collapse" class="join-left">Collapse</button>
					<button id="activate" class="join-right">Disable All</button>
				</div>
				<button id="clear-all" title="Remove all rules" class="custom-button">Clear</button>
			</div>
			<div id="rule-thing" class="invisible"><span class="hidden-text"></span></div>
			 <div id="demo">
				<!-- Rules live here -->
			</div>
		</div>
		<div id="outlex" class="thirds">
			<div class="title-wrapper">
				<h1>Output</h1>
			</div>
			<div class="options">
				<label for="format">Format: </label>
				<select name="format" id="format">
					<option value="out">Output</option>
					<option value="+#">Output # Comment</option>
					<option value=">">Input >&nbsp; Output</option>
					<option value="->">Input -> Output</option>
					<option value="=>">Input => Output</option>
					<option value="+>">Input >&nbsp; Output (Aligned)</option>
					<option value="+->">Input -> Output (Aligned)</option>
					<option value="+=>">Input => Output (Aligned)</option>
				</select>
			</div>
			<div class = "wrapper">
				<div class="scroller">
					<!-- Output lives here -->
				</div>
			</div>
		</div>
	</section>

	<footer>
		ASCA is an easy to use, opinionated sound change applier designed for conlangers and linguists.
		<br>
		If you do not have access to an IPA keyboard, <a href="https://ipa.typeit.org/full/" target="_blank">visit Type It</a>. 
		<br>
		If you find any bugs/errors or have in mind any additions/changes, please consider creating an issue on <a href="https://github.com/Girv98/asca-rust/issues" target="_blank">github</a>.
		<br>
		<a href="https://ko-fi.com/girvj">Support ASCA</a>.
		<br><br>
	</footer>

</body>

</html>